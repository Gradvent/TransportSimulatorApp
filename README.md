# Transport Sim

Веб приложение на ASP.NET Core 5 и React SPA

[Проектное задание](./project_assignment.md)

## Реализовано

### Транспорт
* Грузовики
* Автомобили
* Мотоциклы

### Режим "Гонка на один круг"
Весь транспорт одновременно стартует и движется до финиша.  
Когда все машины на финише, то симуляции гонки заканчивается, а пользователь получает запрос на еще один круг.

### Режим "Починка колеса"
Транспорт чье колесо было пробито останавливается на некоторое время.

### Интерфейс
По окончанию заезда выводится рейтинговая таблица
Постоянный мониторинг прогресса каждого транспорта и их места в первенстве
До старта отображаться показатели скорости, вероятности прокола колеса транспорта и не только.
Во время гонки показывается пройденное расстояние и состояние транспорта

### Конфигурация
Инициализация большинства объектов использует большое количество поставщиков параметров ASP.NET Core, в том числе параметры из файла и среды окружения.  
Основной файл настроек симуляции [simulationsettings.json](./simulationsettings.json)

### Основные параметры
```json
{
    /* Параметры инициализации симуляции */
    "Simulation": {
        "Distance": 1000, // Дистанция трассы
        "SimulationSeed": "Simulation 2021" // Зерно ГПСЧ для симуляции
    },

    /* Инициализация транспорта */
    "Transport": {
        "TruckCargo": 2000, // Вес груза для грузовиков
        "AutomobilePersons": 2, // Количество человек для автомобиля
        "MotorbikeHasSidecar": true, // Наличие коляски для мотоцикла
        "Speed": 50, // Скорость транспорта
        "RepairSeconds": 5, 
        "PunctureProbability": 35 // Вероятность поломки (пробития колеса) [от 0.0 до 100.0]
    },

    /* Инициализация множества транспорта для симуляции */
    "Factory": {
        "RandTransport": true, // Включить случайное заполнение
        "RandTransportCount": 10, // Количество случайного транспорта
        "Seed": "87309", // Зерно ГПСЧ для заполнения

        /* Количество случайного транспорта для каждого вида, 0 или пропуск отключает вид из генерации */
        "Count": {
            "Truck": 4,
            "Automobile": 2,
            "Motorbike": 6
        }
    }
}
```

## Использованные технологии
* ASP.NET Core 5
* React.js
* C#, Typesctipt
* .NET Core SignalR (for server-to-clliend data streaming)
* DevContainers
* Docker, Docker-compose
* SPA, REST Api

## Запуск

```
docker-compose up --build
```
http://localhost:8080 - React SPA

## Остановка и удаление

```
docker-compose down
```